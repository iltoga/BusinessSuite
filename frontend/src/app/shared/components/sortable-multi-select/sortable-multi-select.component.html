<div class="flex flex-col gap-3">
  @if (label()) {
    <label class="text-sm font-medium">{{ label() }}</label>
  }
  <div class="grid gap-4 lg:grid-cols-2">
    <div class="rounded-lg border bg-card p-3">
      <div class="text-xs uppercase text-muted-foreground mb-2">Available</div>
      <div class="flex flex-col gap-2">
        @for (option of options(); track option.id) {
          <label class="flex items-center gap-2 text-sm">
            <input
              type="checkbox"
              class="h-4 w-4 rounded border-muted-foreground/40 text-primary"
              [checked]="isSelected(option.id)"
              (change)="toggleOption(option.id, $any($event.target).checked)"
            />
            <span>{{ option.label }}</span>
          </label>
        }
      </div>
    </div>

    <div class="rounded-lg border bg-card p-3">
      <div class="text-xs uppercase text-muted-foreground mb-2">Selected order</div>
      <div cdkDropList class="flex flex-col gap-2 min-h-12" (cdkDropListDropped)="reorder($event)">
        @if (selectedOrder().length === 0) {
          <div class="text-sm text-muted-foreground">No documents selected.</div>
        } @else {
          @for (option of selectedOptions(); track option.id) {
            <div
              cdkDrag
              class="flex items-center justify-between rounded-md border bg-background px-3 py-2 text-sm"
            >
              <span>{{ option.label }}</span>
              <span class="text-xs text-muted-foreground">Drag to reorder</span>
            </div>
          }
        }
      </div>
    </div>
  </div>
</div>
