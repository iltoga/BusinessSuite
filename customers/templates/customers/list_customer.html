{% extends "base_template.html" %}
{% load static %}

{% block content %}
<div class="centered-content">
  <h2>Customer List</h2>

  {% if object_list %}
  <table class="table table-striped table-bordered">
    <thead class="thead-light">
      <tr>
        <th scope="col">Full Name</th>
        <th scope="col">Email</th>
        <th scope="col">Telephone</th>
        <th scope="col">Actions</th> <!-- New Column for Actions -->
      </tr>
    </thead>
    <tbody>
      {% for customer in object_list %}
      <tr>
        <td>{{ customer.full_name }}</td>
        <td>{{ customer.email }}</td>
        <td>{{ customer.telephone }}</td>
        <!-- Add more fields as needed -->

        <!-- Action Buttons -->
        <td>
          <a href="{% url 'update' customer.id %}" class="btn btn-warning btn-sm">Edit</a>
          <!-- Ensure you have the correct URL name for the 'Edit' button and customer.id is the correct unique identifier for each customer. -->
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <div class="pagination">
    <span class="step-links">
        {% if object_list.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ object_list.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            {% if object_list.paginator.count > 0 %}
                Page {{ object_list.number }} of {{ object_list.paginator.num_pages }}.
            {% else %}
                <!-- No pages to display. -->
            {% endif %}
        </span>

        {% if object_list.has_next %}
            <a href="?page={{ object_list.next_page_number }}">next</a>
            <a href="?page={{ object_list.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
  </div>

  {% else %}
  <p>No customers found.</p>
  {% endif %}

  <a href="{% url 'create' %}" class="btn btn-primary mt-3">New customer</a>
</div>
{% endblock %}
